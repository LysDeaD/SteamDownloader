<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SteamCMD Workshop Downloader</title>
    <link rel="stylesheet" href="SteamDownloader.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9045061450653870"
     crossorigin="anonymous"></script>
</head>
<body>
    <div class="language-selector">
        <select id="languageSelector" onchange="changeLanguage(this.value)">
            <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
            <option value="en">ğŸ‡¬ğŸ‡§ English</option>
        </select>
    </div>

    <div class="container">
        <div class="header">
            <h1 data-translate="header.title">ğŸ® SteamCMD Workshop Generator</h1>
            <p data-translate="header.subtitle">GÃ©nÃ©rez des commandes SteamCMD pour tÃ©lÃ©charger des mods Steam Workshop</p>
        </div>

        <!-- GÃ©nÃ©rateur de commandes -->
        <div class="section">
            <h2 data-translate="generator.title">ğŸ”§ GÃ©nÃ©rateur de Commandes</h2>
            
            <div class="input-group">
                <label for="workshopUrl" data-translate="generator.workshop_url">Lien Steam Workshop :</label>
                <input type="url" id="workshopUrl" data-translate-placeholder="generator.workshop_url_placeholder" placeholder="https://steamcommunity.com/sharedfiles/filedetails/?id=2619072426" value="https://steamcommunity.com/sharedfiles/filedetails/?id=2619072426&searchtext=">
            </div>

            <div class="input-group">
                <label for="appId" data-translate="generator.app_id">ID de l'application (optionnel - dÃ©tectÃ© automatiquement) :</label>
                <select id="appId">
                    <option value="auto" data-translate="generator.auto_detect">DÃ©tection automatique</option>
                    <option value="108600">Project Zomboid (108600)</option>
                    <option value="4000">Garry's Mod (4000)</option>
                    <option value="294100">RimWorld (294100)</option>
                    <option value="346110">ARK: Survival Evolved (346110)</option>
                    <option value="107410">Arma 3 (107410)</option>
                    <option value="570">Dota 2 (570)</option>
                    <option value="440">Team Fortress 2 (440)</option>
                    <option value="730">Counter-Strike: Global Offensive (730)</option>
                </select>
            </div>

            <button class="btn" onclick="generateCommand()" data-translate="generator.generate_btn">âš¡ GÃ©nÃ©rer la Commande</button>
            <button class="btn btn-secondary" onclick="detectGame()" data-translate="generator.detect_btn">ğŸ” DÃ©tecter le Jeu</button>

            <div id="commandOutput" class="output-section" style="display: none;">
                <h3 style="color: #66c0f4; margin-bottom: 15px;" data-translate="generator.command_output">ğŸ“‹ Commande SteamCMD :</h3>
                <div class="command-output" id="steamcmdCommand">
                    <button class="copy-btn" onclick="copyCommand()" data-translate="generator.copy_btn">ğŸ“‹ Copier</button>
                    <span id="commandText"></span>
                </div>
                <div class="success" data-translate="generator.success">
                    âœ… Commande gÃ©nÃ©rÃ©e ! Copiez-la et utilisez-la dans SteamCMD aprÃ¨s vous Ãªtre connectÃ©.
                </div>
            </div>
        </div>

        <!-- Tutoriel d'installation -->
        <div class="section">
            <h2 data-translate="tutorial.title">ğŸ“š Guide d'Installation SteamCMD</h2>
            
            <div class="tabs">
                <button class="tab active" onclick="showTab('windows')">ğŸªŸ Windows</button>
                <button class="tab" onclick="showTab('linux')">ğŸ§ Linux</button>
                <button class="tab" onclick="showTab('mac')">ğŸ macOS</button>
            </div>

            <!-- Windows -->
            <div id="windows" class="tab-content active">
                <div class="tutorial-step">
                    <h4 data-translate="tutorial.windows.step1.title">1. TÃ©lÃ©charger SteamCMD</h4>
                    <p data-translate="tutorial.windows.step1.content">TÃ©lÃ©chargez SteamCMD depuis le site officiel de Valve :</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('https://steamcdn-a.akamaihd.net/client/installer/steamcmd.zip')">ğŸ“‹</button>
                        https://steamcdn-a.akamaihd.net/client/installer/steamcmd.zip
                    </div>
                </div>

                <div class="tutorial-step">
                    <h4 data-translate="tutorial.windows.step2.title">2. Extraire et Installer</h4>
                    <p data-translate="tutorial.windows.step2.content">â€¢ CrÃ©ez un dossier <code>C:\steamcmd\</code><br>
                    â€¢ Extrayez le fichier ZIP dans ce dossier<br>
                    â€¢ Vous devriez avoir <code>C:\steamcmd\steamcmd.exe</code></p>
                </div>

                <div class="tutorial-step">
                    <h4 data-translate="tutorial.windows.step3.title">3. Premier Lancement</h4>
                    <p data-translate="tutorial.windows.step3.content">Ouvrez l'invite de commande en tant qu'administrateur et naviguez vers le dossier :</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('cd C:\\steamcmd\nsteamcmd.exe')">ğŸ“‹</button>
                        cd C:\steamcmd
steamcmd.exe
                    </div>
                </div>

                <div class="tutorial-step">
                    <h4 data-translate="tutorial.windows.step4.title">4. Connexion Anonyme</h4>
                    <p data-translate="tutorial.windows.step4.content">Une fois SteamCMD lancÃ©, connectez-vous anonymement :</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('login anonymous')">ğŸ“‹</button>
                        login anonymous
                    </div>
                </div>

                <div class="tutorial-step">
                    <h4 data-translate="tutorial.windows.step5.title">5. TÃ©lÃ©charger un Mod</h4>
                    <p data-translate="tutorial.windows.step5.content">Utilisez la commande gÃ©nÃ©rÃ©e ci-dessus. Exemple :</p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('workshop_download_item 108600 2619072426\nquit')">ğŸ“‹</button>
                        workshop_download_item 108600 2619072426
quit
                    </div>
                    <p data-translate="tutorial.windows.step5.location"><strong>ğŸ“ Emplacement des mods :</strong> <code>C:\steamcmd\steamapps\workshop\content\[APP_ID]\[MOD_ID]\</code></p>
                </div>
            </div>

            <!-- Linux -->
            <div id="linux" class="tab-content">
                <div class="tutorial-step">
                    <h4 data-translate="tutorial.linux.step1.title">1. Installation via le gestionnaire de paquets</h4>
                    <p data-translate="tutorial.linux.step1.ubuntu"><strong>Ubuntu/Debian :</strong></p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('sudo apt update\nsudo apt install steamcmd')">ğŸ“‹</button>
                        sudo apt update
sudo apt install steamcmd
                    </div>
                    <p data-translate="tutorial.linux.step1.arch"><strong>Arch Linux :</strong></p>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('sudo pacman -S steamcmd')">ğŸ“‹</button>
                        sudo pacman -S steamcmd
                    </div>
                </div>

                <div class="tutorial-step">
                    <h4 data-translate="tutorial.linux.step2.title">2. Installation manuelle (si nÃ©cessaire)</h4>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('mkdir ~/steamcmd\ncd ~/steamcmd\nwget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz\ntar -xvzf steamcmd_linux.tar.gz')">ğŸ“‹</button>
                        mkdir ~/steamcmd
cd ~/steamcmd
wget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz
tar -xvzf steamcmd_linux.tar.gz
                    </div>
                </div>

                <div class="tutorial-step">
                    <h4 data-translate="tutorial.linux.step3.title">3. Lancement et Connexion</h4>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('./steamcmd.sh\nlogin anonymous')">ğŸ“‹</button>
                        ./steamcmd.sh
login anonymous
                    </div>
                </div>

                <div class="tutorial-step">
                    <h4 data-translate="tutorial.linux.step4.title">4. TÃ©lÃ©charger un Mod</h4>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('workshop_download_item 108600 2619072426\nquit')">ğŸ“‹</button>
                        workshop_download_item 108600 2619072426
quit
                    </div>
                    <p data-translate="tutorial.linux.step4.location"><strong>ğŸ“ Emplacement des mods :</strong> <code>~/steamcmd/steamapps/workshop/content/[APP_ID]/[MOD_ID]/</code></p>
                </div>
            </div>

            <!-- macOS -->
            <div id="mac" class="tab-content">
                <div class="tutorial-step">
                    <h4 data-translate="tutorial.mac.step1.title">1. TÃ©lÃ©charger SteamCMD</h4>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('mkdir ~/steamcmd\ncd ~/steamcmd\ncurl -sqL \"https://steamcdn-a.akamaihd.net/client/installer/steamcmd_osx.tar.gz\" | tar zxvf -')">ğŸ“‹</button>
                        mkdir ~/steamcmd
cd ~/steamcmd
curl -sqL "https://steamcdn-a.akamaihd.net/client/installer/steamcmd_osx.tar.gz" | tar zxvf -
                    </div>
                </div>

                <div class="tutorial-step">
                    <h4 data-translate="tutorial.mac.step2.title">2. Lancement et Connexion</h4>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('./steamcmd.sh\nlogin anonymous')">ğŸ“‹</button>
                        ./steamcmd.sh
login anonymous
                    </div>
                </div>

                <div class="tutorial-step">
                    <h4 data-translate="tutorial.mac.step3.title">3. TÃ©lÃ©charger un Mod</h4>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyText('workshop_download_item 108600 2619072426\nquit')">ğŸ“‹</button>
                        workshop_download_item 108600 2619072426
quit
                    </div>
                    <p data-translate="tutorial.mac.step3.location"><strong>ğŸ“ Emplacement des mods :</strong> <code>~/steamcmd/steamapps/workshop/content/[APP_ID]/[MOD_ID]/</code></p>
                </div>
            </div>
        </div>

        <!-- IDs de jeux populaires -->
        <div class="section">
            <h2 data-translate="games.title">ğŸ® IDs de Jeux Populaires</h2>
            <div class="game-list">
                <div class="game-item"><strong>Project Zomboid:</strong> 108600</div>
                <div class="game-item"><strong>Garry's Mod:</strong> 4000</div>
                <div class="game-item"><strong>RimWorld:</strong> 294100</div>
                <div class="game-item"><strong>ARK: Survival Evolved:</strong> 346110</div>
                <div class="game-item"><strong>Arma 3:</strong> 107410</div>
                <div class="game-item"><strong>Cities: Skylines:</strong> 255710</div>
                <div class="game-item"><strong>Left 4 Dead 2:</strong> 550</div>
                <div class="game-item"><strong>Total War Warhammer III:</strong> 1142710</div>
                <div class="game-item"><strong>Wallpaper Engine:</strong> 431960</div>
                <div class="game-item"><strong>Euro Truck Simulator 2:</strong> 227300</div>
            </div>
        </div>

        <!-- Conseils -->
        <div class="section">
            <h2 data-translate="tips.title">ğŸ’¡ Conseils et Astuces</h2>
            
            <div class="warning">
                <strong data-translate="tips.warning.title">âš ï¸ Important :</strong> <span data-translate="tips.warning.content">Certains mods nÃ©cessitent d'Ãªtre connectÃ© avec un compte Steam au lieu de "anonymous". Utilisez <code>login [username]</code> si le tÃ©lÃ©chargement anonyme Ã©choue.</span>
            </div>

            <div class="tutorial-step">
                <h4 data-translate="tips.useful_commands">ğŸ”„ Commandes Utiles</h4>
                <p data-translate="tips.update_mod"><strong>Mettre Ã  jour un mod :</strong></p>
                <div class="code-block">workshop_download_item 108600 2619072426 validate</div>
                
                <p data-translate="tips.multiple_mods"><strong>TÃ©lÃ©charger plusieurs mods :</strong></p>
                <div class="code-block">workshop_download_item 108600 2619072426
workshop_download_item 108600 1234567890
workshop_download_item 108600 0987654321</div>

                <p data-translate="tips.batch_script"><strong>CrÃ©er un script batch (Windows) :</strong></p>
                <div class="code-block">@echo off
cd /d "C:\steamcmd"
steamcmd.exe +login anonymous +workshop_download_item 108600 2619072426 +quit
pause</div>
            </div>
        </div>
    </div>

    <script>
        // Traductions
        const translations = {
            fr: {
                'header.title': 'ğŸ® SteamCMD Workshop Generator',
                'header.subtitle': 'GÃ©nÃ©rez des commandes SteamCMD pour tÃ©lÃ©charger des mods Steam Workshop',
                'generator.title': 'ğŸ”§ GÃ©nÃ©rateur de Commandes',
                'generator.workshop_url': 'Lien Steam Workshop :',
                'generator.workshop_url_placeholder': 'https://steamcommunity.com/sharedfiles/filedetails/?id=2619072426',
                'generator.app_id': 'ID de l\'application (optionnel - dÃ©tectÃ© automatiquement) :',
                'generator.auto_detect': 'DÃ©tection automatique',
                'generator.generate_btn': 'âš¡ GÃ©nÃ©rer la Commande',
                'generator.detect_btn': 'ğŸ” DÃ©tecter le Jeu',
                'generator.command_output': 'ğŸ“‹ Commande SteamCMD :',
                'generator.copy_btn': 'ğŸ“‹ Copier',
                'generator.success': 'âœ… Commande gÃ©nÃ©rÃ©e ! Copiez-la et utilisez-la dans SteamCMD aprÃ¨s vous Ãªtre connectÃ©.',
                'tutorial.title': 'ğŸ“š Guide d\'Installation SteamCMD',
                'tutorial.windows.step1.title': '1. TÃ©lÃ©charger SteamCMD',
                'tutorial.windows.step1.content': 'TÃ©lÃ©chargez SteamCMD depuis le site officiel de Valve :',
                'tutorial.windows.step2.title': '2. Extraire et Installer',
                'tutorial.windows.step2.content': 'â€¢ CrÃ©ez un dossier <code>C:\\steamcmd\\</code><br>â€¢ Extrayez le fichier ZIP dans ce dossier<br>â€¢ Vous devriez avoir <code>C:\\steamcmd\\steamcmd.exe</code>',
                'tutorial.windows.step3.title': '3. Premier Lancement',
                'tutorial.windows.step3.content': 'Ouvrez l\'invite de commande en tant qu\'administrateur et naviguez vers le dossier :',
                'tutorial.windows.step4.title': '4. Connexion Anonyme',
                'tutorial.windows.step4.content': 'Une fois SteamCMD lancÃ©, connectez-vous anonymement :',
                'tutorial.windows.step5.title': '5. TÃ©lÃ©charger un Mod',
                'tutorial.windows.step5.content': 'Utilisez la commande gÃ©nÃ©rÃ©e ci-dessus. Exemple :',
                'tutorial.windows.step5.location': '<strong>ğŸ“ Emplacement des mods :</strong> <code>C:\\steamcmd\\steamapps\\workshop\\content\\[APP_ID]\\[MOD_ID]\\</code>',
                'tutorial.linux.step1.title': '1. Installation via le gestionnaire de paquets',
                'tutorial.linux.step1.ubuntu': '<strong>Ubuntu/Debian :</strong>',
                'tutorial.linux.step1.arch': '<strong>Arch Linux :</strong>',
                'tutorial.linux.step2.title': '2. Installation manuelle (si nÃ©cessaire)',
                'tutorial.linux.step3.title': '3. Lancement et Connexion',
                'tutorial.linux.step4.title': '4. TÃ©lÃ©charger un Mod',
                'tutorial.linux.step4.location': '<strong>ğŸ“ Emplacement des mods :</strong> <code>~/steamcmd/steamapps/workshop/content/[APP_ID]/[MOD_ID]/</code>',
                'tutorial.mac.step1.title': '1. TÃ©lÃ©charger SteamCMD',
                'tutorial.mac.step2.title': '2. Lancement et Connexion',
                'tutorial.mac.step3.title': '3. TÃ©lÃ©charger un Mod',
                'tutorial.mac.step3.location': '<strong>ğŸ“ Emplacement des mods :</strong> <code>~/steamcmd/steamapps/workshop/content/[APP_ID]/[MOD_ID]/</code>',
                'games.title': 'ğŸ® IDs de Jeux Populaires',
                'tips.title': 'ğŸ’¡ Conseils et Astuces',
                'tips.warning.title': 'âš ï¸ Important :',
                'tips.warning.content': 'Certains mods nÃ©cessitent d\'Ãªtre connectÃ© avec un compte Steam au lieu de "anonymous". Utilisez <code>login [username]</code> si le tÃ©lÃ©chargement anonyme Ã©choue.',
                'tips.useful_commands': 'ğŸ”„ Commandes Utiles',
                'tips.update_mod': '<strong>Mettre Ã  jour un mod :</strong>',
                'tips.multiple_mods': '<strong>TÃ©lÃ©charger plusieurs mods :</strong>',
                'tips.batch_script': '<strong>CrÃ©er un script batch (Windows) :</strong>',
                'alert.enter_url': 'âš ï¸ Veuillez entrer un lien Steam Workshop',
                'alert.mod_id_not_found': 'âŒ ID du mod introuvable dans le lien',
                'alert.detection_dev': 'ğŸ” FonctionnalitÃ© de dÃ©tection automatique en dÃ©veloppement.\\nPour l\'instant, sÃ©lectionnez manuellement le jeu dans la liste dÃ©roulante.',
                'alert.copied': 'ğŸ“‹ Commande copiÃ©e dans le presse-papiers!'
            },
            en: {
                'header.title': 'ğŸ® SteamCMD Workshop Generator',
                'header.subtitle': 'Generate SteamCMD commands to download Steam Workshop mods',
                'generator.title': 'ğŸ”§ Command Generator',
                'generator.workshop_url': 'Steam Workshop Link:',
                'generator.workshop_url_placeholder': 'https://steamcommunity.com/sharedfiles/filedetails/?id=2619072426',
                'generator.app_id': 'Application ID (optional - auto-detected):',
                'generator.auto_detect': 'Auto-detect',
                'generator.generate_btn': 'âš¡ Generate Command',
                'generator.detect_btn': 'ğŸ” Detect Game',
                'generator.command_output': 'ğŸ“‹ SteamCMD Command:',
                'generator.copy_btn': 'ğŸ“‹ Copy',
                'generator.success': 'âœ… Command generated! Copy it and use it in SteamCMD after logging in.',
                'tutorial.title': 'ğŸ“š SteamCMD Installation Guide',
                'tutorial.windows.step1.title': '1. Download SteamCMD',
                'tutorial.windows.step1.content': 'Download SteamCMD from Valve\'s official website:',
                'tutorial.windows.step2.title': '2. Extract and Install',
                'tutorial.windows.step2.content': 'â€¢ Create a folder <code>C:\\steamcmd\\</code><br>â€¢ Extract the ZIP file to this folder<br>â€¢ You should have <code>C:\\steamcmd\\steamcmd.exe</code>',
                'tutorial.windows.step3.title': '3. First Launch',
                'tutorial.windows.step3.content': 'Open command prompt as administrator and navigate to the folder:',
                'tutorial.windows.step4.title': '4. Anonymous Login',
                'tutorial.windows.step4.content': 'Once SteamCMD is launched, log in anonymously:',
                'tutorial.windows.step5.title': '5. Download a Mod',
                'tutorial.windows.step5.content': 'Use the command generated above. Example:',
                'tutorial.windows.step5.location': '<strong>ğŸ“ Mods location:</strong> <code>C:\\steamcmd\\steamapps\\workshop\\content\\[APP_ID]\\[MOD_ID]\\</code>',
                'tutorial.linux.step1.title': '1. Install via package manager',
                'tutorial.linux.step1.ubuntu': '<strong>Ubuntu/Debian:</strong>',
                'tutorial.linux.step1.arch': '<strong>Arch Linux:</strong>',
                'tutorial.linux.step2.title': '2. Manual installation (if needed)',
                'tutorial.linux.step3.title': '3. Launch and Login',
                'tutorial.linux.step4.title': '4. Download a Mod',
                'tutorial.linux.step4.location': '<strong>ğŸ“ Mods location:</strong> <code>~/steamcmd/steamapps/workshop/content/[APP_ID]/[MOD_ID]/</code>',
                'tutorial.mac.step1.title': '1. Download SteamCMD',
                'tutorial.mac.step2.title': '2. Launch and Login',
                'tutorial.mac.step3.title': '3. Download a Mod',
                'tutorial.mac.step3.location': '<strong>ğŸ“ Mods location:</strong> <code>~/steamcmd/steamapps/workshop/content/[APP_ID]/[MOD_ID]/</code>',
                'games.title': 'ğŸ® Popular Game IDs',
                'tips.title': 'ğŸ’¡ Tips and Tricks',
                'tips.warning.title': 'âš ï¸ Important:',
                'tips.warning.content': 'Some mods require login with a Steam account instead of "anonymous". Use <code>login [username]</code> if anonymous download fails.',
                'tips.useful_commands': 'ğŸ”„ Useful Commands',
                'tips.update_mod': '<strong>Update a mod:</strong>',
                'tips.multiple_mods': '<strong>Download multiple mods:</strong>',
                'tips.batch_script': '<strong>Create a batch script (Windows):</strong>',
                'alert.enter_url': 'âš ï¸ Please enter a Steam Workshop link',
                'alert.mod_id_not_found': 'âŒ Mod ID not found in the link',
                'alert.detection_dev': 'ğŸ” Automatic detection feature in development.\\nFor now, manually select the game from the dropdown.',
                'alert.copied': 'ğŸ“‹ Command copied to clipboard!'
            }
        };

        let currentLanguage = 'fr';

        // DÃ©tection automatique de la langue
        function detectLanguage() {
            const browserLang = navigator.language || navigator.userLanguage;
            const langCode = browserLang.split('-')[0];
            
            if (langCode !== 'fr' && translations.en) {
                return 'en';
            }
            return 'fr';
        }

        // Fonction pour changer la langue
        function changeLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('preferredLanguage', lang);
            updateTexts();
            document.documentElement.lang = lang;
        }

        // Fonction pour mettre Ã  jour tous les textes
        function updateTexts() {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    element.innerHTML = translations[currentLanguage][key];
                }
            });

            // Mettre Ã  jour les placeholders
            const placeholders = document.querySelectorAll('[data-translate-placeholder]');
            placeholders.forEach(element => {
                const key = element.getAttribute('data-translate-placeholder');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    element.placeholder = translations[currentLanguage][key];
                }
            });
        }

        // Fonction pour obtenir le texte traduit
        function t(key) {
            return translations[currentLanguage] && translations[currentLanguage][key] 
                ? translations[currentLanguage][key] 
                : key;
        }

        // Initialisation de la langue
        function initLanguage() {
            const savedLanguage = localStorage.getItem('preferredLanguage');
            const detectedLanguage = detectLanguage();
            
            currentLanguage = savedLanguage || detectedLanguage;
            
            document.getElementById('languageSelector').value = currentLanguage;
            document.documentElement.lang = currentLanguage;
            updateTexts();
        }

        const gameAppIds = {
            'project zomboid': '108600',
            'garry\'s mod': '4000',
            'rimworld': '294100',
            'ark': '346110',
            'arma': '107410',
            'cities skylines': '255710',
            'left 4 dead': '550',
            'wallpaper engine': '431960',
            'euro truck': '227300'
        };

        function extractModId(url) {
            const match = url.match(/id=(\d+)/);
            return match ? match[1] : null;
        }

        function generateCommand() {
            const url = document.getElementById('workshopUrl').value.trim();
            const appIdSelect = document.getElementById('appId');
            
            if (!url) {
                alert(t('alert.enter_url'));
                return;
            }

            const modId = extractModId(url);
            if (!modId) {
                alert(t('alert.mod_id_not_found'));
                return;
            }

            let appId = appIdSelect.value;
            if (appId === 'auto') {
                appId = '108600';
            }

            const command = `workshop_download_item ${appId} ${modId}`;
            
            document.getElementById('commandText').textContent = command;
            document.getElementById('commandOutput').style.display = 'block';
            
            document.getElementById('commandOutput').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
            });
        }

        function detectGame() {
            alert(t('alert.detection_dev'));
        }

        function copyCommand() {
            const command = document.getElementById('commandText').textContent;
            copyText(command);
        }

        function copyText(text) {
            navigator.clipboard.writeText(text).then(function() {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ… ' + (currentLanguage === 'fr' ? 'CopiÃ©!' : 'Copied!');
                btn.style.background = '#28a745';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '#21262d';
                }, 2000);
            }).catch(function(err) {
                console.error('Erreur lors de la copie: ', err);
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                alert(t('alert.copied'));
            });
        }

        function showTab(tabName) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Permettre la gÃ©nÃ©ration en appuyant sur EntrÃ©e
        document.getElementById('workshopUrl').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateCommand();
            }
        });

        // Initialisation au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            initLanguage();
        });
    </script>
</body>
</html>
